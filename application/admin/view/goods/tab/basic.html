<div class="layui-card-header">基本信息</div>
<div class="layui-form-item">
    <label class="layui-form-label">商城类型</label>
    <div class="layui-input-block">
        <select name="pid" lay-filter="aihao" lay-search>
            <option value="">选择类型（商城的主类型，并非店铺的商品类型）</option>
            {foreach name="catelist" item="v" key="k"}
                <option value="{$v.id}" {notempty name="pid"}{eq name="v.id" value="$pid"}selected="selected"{/eq}{/notempty}>{$v.title}</option>
                {notempty name="v.child"}
                    {foreach name="v.child" item="va" key="ka"}
                      	<option value="{$va.id}" {notempty name="pid"}{eq name="va.id" value="$pid"}selected="selected"{/eq}{else /}checked="checked"{/notempty}>&emsp;&emsp;├&emsp;{$va.title}</option>
                      	{notempty name="va.childa"}
	                      	{foreach name="va.childa" item="vb" key="kb"}
	                      		<option value="{$vb.id}" {notempty name="pid"}{eq name="vb.id" value="$pid"}selected="selected"{/eq}{else /}checked="checked"{/notempty}>&emsp;&emsp;&emsp;&emsp;├&emsp;{$vb.title}</option>
	                      	{/foreach}
                      	{/notempty}
                    {/foreach}
                {/notempty}
            {/foreach}
        </select>
    </div>
</div>
{if $admininfo.shop_id>0}
	<div class="layui-form-item">
	    <label class="layui-form-label">店铺类型</label>
	    <div class="layui-input-block">
	        <select name="shop_pid" lay-filter="aihaoa" lay-search>
	            <option value="">选择类型（店铺的主类型，并非商城的商品类型）</option>
	            {foreach name="catelista" item="v" key="k"}
	                <option value="{$v.id}" {notempty name="pid"}{eq name="v.id" value="$pid"}selected="selected"{/eq}{/notempty}>{$v.title}</option>
	                {notempty name="v.child"}
	                    {foreach name="v.child" item="va" key="ka"}
	                      	<option value="{$va.id}" {notempty name="pid"}{eq name="va.id" value="$pid"}selected="selected"{/eq}{else /}checked="checked"{/notempty}>&emsp;&emsp;├&emsp;{$va.title}</option>
	                      	{notempty name="va.childa"}
		                      	{foreach name="va.childa" item="vb" key="kb"}
		                      		<option value="{$vb.id}" {notempty name="pid"}{eq name="vb.id" value="$pid"}selected="selected"{/eq}{else /}checked="checked"{/notempty}>&emsp;&emsp;&emsp;&emsp;├&emsp;{$vb.title}</option>
		                      	{/foreach}
	                      	{/notempty}
	                    {/foreach}
	                {/notempty}
	            {/foreach}
	        </select>
	    </div>
	</div>
{/if}
{notempty name="one.id"}
	<input type="hidden" name="id" value="{$one.id}">
{/notempty}
<div class="layui-form-item">
    <label class="layui-form-label"><span class="x-red">*</span>商品名称</label>
    <div class="layui-input-block">
        <input type="text" name="title" lay-verify="required" autocomplete="off" placeholder="请输入商品名称" class="layui-input" {notempty name="one.title"}value="{$one.title}"{/notempty}>
    </div>
</div>
<div class="layui-form-item">
    <label class="layui-form-label">短标题</label>
    <div class="layui-col-md6">
        <input type="text" name="short_title" placeholder="请输入商品短标题" class="layui-input" {notempty name="one.short_title"}value="{$one.short_title}"{/notempty}>
    </div>
    <div class="layui-form-mid layui-word-aux"> 商品短标题 用于快递打印,以及小型热敏打印机打印</div>
</div>
<div class="layui-form-item">
    <label class="layui-form-label">SEO标题</label>
    <div class="layui-col-md6">
        <input type="text" name="seo_title" placeholder="请输入商品SEO标题" class="layui-input" {notempty name="one.seo_title"}value="{$one.seo_title}"{/notempty}>
    </div>
    <div class="layui-form-mid layui-word-aux"> SEO标题用作SEO推广标题</div>
</div>
<div class="layui-form-item">
    <label class="layui-form-label">关键字</label>
    <div class="layui-input-block">
        <input type="text" name="keywords" placeholder="请输入商品关键字" class="layui-input" {notempty name="one.keywords"}value="{$one.keywords}"{/notempty}>
    </div>
</div>
<div class="layui-form-item">
    <label class="layui-form-label">描述</label>
    <div class="layui-input-block">
    	<textarea name="description" placeholder="请输入商品描述" class="layui-textarea">{notempty name="one.description"}{$one.description}{/notempty}</textarea>
    </div>
</div>

<div class="layui-card-header">商品信息</div>
<div class="layui-form-item">
	<label class="layui-form-label">商品分类</label>
	<div class="layui-input-block">
		<select name="" lay-filter="aihaoa" lay-search>
			<option value="">商品分类（主要作用于搜索关联）</option>
			{foreach name="catelist" item="v" key="k"}
				{notempty name="v.child"}
					{foreach name="v.child" item="va" key="ka"}
						{notempty name="va.childa"}
							{foreach name="va.childa" item="vb" key="kb"}
								<option value="{$v.id}-{$va.id}-{$vb.id},{$v.title}-{$va.title}-{$vb.title}">{$v.title}-{$va.title}-{$vb.title}</option>
							{/foreach}
						{else /}
							<option value="{$v.id}-{$va.id},{$v.title}-{$va.title}">{$v.title}-{$va.title}</option>
						{/notempty}
					{/foreach}
				{else /}
					<option value="{$v.id},{$v.title}">{$v.title}</option>
				{/notempty}
			{/foreach}
		</select>
	</div>
</div>
{notempty name="one.cates"}
	<div class="layui-form-item">
		<label class="layui-form-label"></label>
		<div class="layui-input-block" id="leixing">
			{foreach name="catelist" item="v"}
				{notempty name="v.child"}
					{foreach name="v.child" item="va" key="ka"}
						{notempty name="va.childa"}
							{foreach name="va.childa" item="vb" key="kb"}
								{if in_array($v['id'].'-'.$va['id'].'-'.$vb['id'],$one.cates)}
					                <div style="float:left;padding: 2px 15px;background:#f1f1f1;margin-right: 20px;position:relative;">
					                    <input type="hidden" name="cates[]" value="{$v['id'].'-'.$va['id'].'-'.$va['id']}"> {$v.title}-{$va.title}-{$vb.title}
					                    <a href="javascript:void(0);" style="position: absolute; right:0px;top:-10px;" onclick="$(this).parent().remove();">x</a>
					                </div>
					            {/if}
							{/foreach}
						{else /}
							{if in_array($v['id'].'-'.$va['id'],$one.cates)}
				                <div style="float:left;padding: 2px 15px;background:#f1f1f1;margin-right: 20px;position:relative;">
				                    <input type="hidden" name="cates[]" value="{$v['id'].'-'.$va['id']}"> {$v.title}-{$va.title}
				                    <a href="javascript:void(0);" style="position: absolute; right:0px;top:-10px;" onclick="$(this).parent().remove();">x</a>
				                </div>
				            {/if}
						{/notempty}
					{/foreach}
				{else /}
		            {if in_array($v.id,$one.cates)}
		                <div style="float:left;padding: 2px 15px;background:#f1f1f1;margin-right: 20px;position:relative;">
		                    <input type="hidden" name="cates[]" value="{$v.id}"> {$v.title}
		                    <a href="javascript:void(0);" style="position: absolute; right:0px;top:-10px;" onclick="$(this).parent().remove();">x</a>
		                </div>
		            {/if}
	            {/notempty}
	        {/foreach}
		</div>
	</div>
{else /}
	<div class="layui-form-item">
		<label class="layui-form-label"></label>
		<div class="layui-input-block" id="leixing"></div>
	</div>
{/notempty}
<div class="layui-form-item">
    <label class="layui-form-label">商品属性</label>
    <div class="layui-input-block">
    	<input type="checkbox" name="tags[]" lay-skin="primary" title="推荐" value="推荐" {notempty name="one.tags"}{if condition="in_array('推荐',$one.tags)"}checked="checked"{/if}{/notempty}>
        <input type="checkbox" name="tags[]" lay-skin="primary" title="新品" value="新品" {notempty name="one.tags"}{if condition="in_array('新品',$one.tags)"}checked="checked"{/if}{/notempty}>
        <input type="checkbox" name="tags[]" lay-skin="primary" title="热卖" value="热卖" {notempty name="one.tags"}{if condition="in_array('热卖',$one.tags)"}checked="checked"{/if}{/notempty}>
        <input type="checkbox" name="ispostage" lay-skin="primary" title="包邮" value="1" {notempty name="one.ispostage"}{eq name="one.ispostage" value="1"}checked="checked"{/eq}{/notempty}>
    </div>
</div>
<div class="layui-form-item">
	<div class="layui-inline">
		<label class="layui-form-label"><span class="x-red">*</span>售价</label>
		<div class="layui-input-inline">
			<input type="text" name="marketprice" lay-verify="required" autocomplete="off" class="layui-input" {notempty name="one.marketprice"}value="{$one.marketprice}"{/notempty}>
		</div>
		<div class="layui-form-mid layui-word-aux">元</div>
	</div>
	<div class="layui-inline">
		<label class="layui-form-label"><span class="x-red">*</span>原价</label>
		<div class="layui-input-inline">
			<input type="text" name="goodsprice" lay-verify="required" autocomplete="off" class="layui-input" {notempty name="one.goodsprice"}value="{$one.goodsprice}"{/notempty}>
		</div>
		<div class="layui-form-mid layui-word-aux">元</div>
	</div>
	<div class="layui-inline">
		<label class="layui-form-label"><span class="x-red">*</span>成本</label>
		<div class="layui-input-inline">
			<input type="text" name="costprice" lay-verify="required" autocomplete="off" class="layui-input" {notempty name="one.costprice"}value="{$one.costprice}"{/notempty}>
		</div>
		<div class="layui-form-mid layui-word-aux">元</div>
	</div>
</div>
<div class="layui-form-item">
    <label class="layui-form-label"><span class="x-red">*</span>封面</label>
    <div class="layui-input-block">
        <div class="left" style="cursor:pointer;" id="fenming">
            <img src="{notempty name="one.thumb"}{$one.thumb|getImage}{/notempty}" alt="" onerror="this.src='{:statics('img')}add_fm.png'" id="fmimg" style="width:192px;height:128px;"><br/>
            <button type="button" class="layui-btn" style="width:192px;">上传封面</button>
            <input type="hidden" name="thumb" {notempty name="one.thumb"}value="{$one.thumb}"{else /}value=""{/notempty} id="img">
        </div>
        <div class="left" style="padding-left:20px;">
            <p style="text-align: center;">上传图片大小不能超过100kb，比例3：2</p>
        </div>
    </div>
</div>
<div class="layui-form-item">
    <label class="layui-form-label">展示图</label>
    <div class="layui-input-block">
    	{notempty name="one.pics"}
    		{:images_s('pics[]',$one.pics,url('admin/base/upload',['utitle'=>'googs','name'=>'file']),300,200,0.5)}
    	{else /}
        	{:images_s('pics[]',"",url('admin/base/upload',['utitle'=>'googs','name'=>'file']),300,200,0.5)}
    	{/notempty}
    </div>
</div>
<div class="layui-form-item">
	<div class="layui-inline">
		<label class="layui-form-label">销量</label>
		<div class="layui-input-inline">
			<input type="text" name="sales" class="layui-input" {notempty name="one.sales"}value="{$one.sales}"{/notempty}>
		</div>
		<div class="layui-form-mid layui-word-aux"> 件 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" name="showsales" lay-skin="primary" class="guigejz" title="显示销量" value="y" {notempty name="one.showsales"}{eq name="one.showsales" value="y"}checked="checked"{/eq}{else /}checked="checked"{/notempty}></div>

	</div>
</div>

<div class="layui-card-header">商品属性</div>
<div class="layui-form-item">
	<div class="layui-inline">
		<label class="layui-form-label">单品满</label>
		<div class="layui-input-inline">
			<input type="text" name="ednum" class="layui-input" {notempty name="one.ednum"}value="{$one.ednum}"{/notempty}>
		</div>
		<div class="layui-form-mid layui-word-aux"> 件包邮</div>
	</div>
</div>
<div class="layui-form-item">
	<div class="layui-inline">
		<label class="layui-form-label">单品满</label>
		<div class="layui-input-inline">
			<input type="text" name="edmoney" class="layui-input" {notempty name="one.edmoney"}value="{$one.edmoney}"{/notempty}>
		</div>
		<div class="layui-form-mid layui-word-aux"> 元包邮</div>
	</div>
</div>
<div class="layui-form-item">
	<label class="layui-form-label">不包邮地区</label>
	<div class="layui-input-block">
		<input type="text" name="" id="edareas" class="layui-input" readonly="readonly" placeholder="请选择不包邮地区,为0或者为空表示不限制不包邮地区">
	</div>
</div>
{notempty name="one.edareas"}
	<div class="layui-form-item">
		<label class="layui-form-label"></label>
		<div class="layui-input-block" id="bubaoyou">
			{foreach name="chengshi" item="v"}
	            {if in_array($v.region_id,$one.edareas)}
	                <div style="float:left;padding: 2px 15px;background:#f1f1f1;margin-right: 20px;position:relative;">
	                    <input type="hidden" name="edareas[]" value="{$v.region_id}"> {$v.region_name}
	                    <a href="javascript:void(0);" style="position: absolute; right:0px;top:-10px;" onclick="$(this).parent().remove();">x</a>
	                </div>
	            {/if}
	        {/foreach}
		</div>
	</div>
{else /}
	<div class="layui-form-item">
		<label class="layui-form-label"></label>
		<div class="layui-input-block" id="bubaoyou"></div>
	</div>
{/notempty}
<div class="layui-form-item">
	<label class="layui-form-label">运费设置</label>
	<div class="layui-input-inline">
		<input type="radio" name="postagetype" value="0" title="运费模板" {notempty name="one.postagetype"}{eq name="one.postagetype" value="0"}checked="checked"{/eq}{else /}checked="checked"{/notempty}>
	</div>
	<div class="layui-input-inline">
		<select name="postageid" lay-search>
            <option value="">默认模板</option>
        </select>
	</div>
</div>
<div class="layui-form-item">
	<label class="layui-form-label"></label>
	<div class="layui-input-inline">
		<input type="radio" name="postagetype" value="1" title="统一邮费" {notempty name="one.postagetype"}{eq name="one.postagetype" value="1"}checked="checked"{/eq}{/notempty}>
	</div>
	<div class="layui-input-inline">
		<input type="text" name="postageprice" class="layui-input" {notempty name="one.postageprice"}value="{$one.postageprice}"{/notempty}>
	</div>
	<div class="layui-form-mid layui-word-aux"> 元</div>
</div>
<div class="layui-form-item">
	<label class="layui-form-label">所在地</label>
	<div class="layui-input-block">
		<div class="layui-inline">
			<select name="provance" lay-filter="myselect" id="sheng" lay-search>
				<option value="">请选择省</option>
				{foreach name="sheng" item="v"}
                    <option value="{$v.region_id}" {notempty name="one.provance"}{eq name="one.provance" value="$v.region_id"}selected="selected"{/eq}{/notempty}>{$v.region_name}</option>
                {/foreach}
			</select>
		</div>
		<div class="layui-inline">
			<select name="city" id="City" lay-filter="myselect2" lay-search>
				<option value="">请选择市</option>
				{notempty name="shi"}
                    {foreach name="shi" item="v"}
                      <option value="{$v.region_id}" {notempty name="one.city"}{eq name="one.city" value="$v.region_id"}selected="selected"{/eq}{/notempty}>{$v.region_name}</option>
                    {/foreach}
                {/notempty}
			</select>
		</div>
		<div class="layui-inline">
			<select name="qu" id="qu" lay-filter="myselect3" lay-search>
				<option value="">请选择区县</option>
				{notempty name="qu"}
                    {foreach name="qu" item="v"}
                      <option value="{$v.region_id}" {notempty name="one.qu"}{eq name="one.qu" value="$v.region_id"}selected="selected"{/eq}{/notempty}>{$v.region_name}</option>
                    {/foreach}
                {/notempty}
			</select>
		</div>
	</div>
</div>
<div class="layui-form-item">
	<label class="layui-form-label">上架时间</label>
	<div class="layui-input-block">
		<input type="text" name="starttime" id="riqi" {notempty name="one.starttime"}value="{$one.starttime}"{/notempty} readonly="readonly" placeholder="请选择上架时间，不选则不限时间" class="layui-input">
	</div>
</div>
<div class="layui-form-item">
	<label class="layui-form-label">下架时间</label>
	<div class="layui-input-block">
		<input type="text" name="endtime" id="riqia" {notempty name="one.endtime"}value="{$one.endtime}"{/notempty} readonly="readonly" placeholder="请选择下架时间，不选则不限时间" class="layui-input">
	</div>
</div>
<div class="layui-form-item">
	<label class="layui-form-label">货到付款</label>
	<div class="layui-input-block">
		<input type="checkbox" {notempty name="one.cash"}{eq name="one.cash" value="1"}checked="checked"{/eq}{/notempty} name="cash" lay-skin="switch" lay-filter="component-form-switchTest" lay-text="ON|Off" value="1">
	</div>
</div>
<div class="layui-form-item" style="margin-bottom: 0;display:none;">
	<div class="layui-inline">
		<label class="layui-form-label">自动收货</label>
		<div class="layui-input-inline">
			<input type="text" name="autoreceive" class="layui-input" {notempty name="one.autoreceive"}value="{$one.autoreceive}"{/notempty}>
		</div>
		<div class="layui-form-mid layui-word-aux"> 天</div>
	</div>
</div>
<div class="layui-form-item" style="display:none;">
	<label class="layui-form-label">&nbsp;</label>
	<div class="layui-form-mid layui-word-aux">
		自发货起往后计算的天，0或不填表示不开启自动收货<br/>
		如: 0天，则需要客户或者后台操作员主动点击收货<br/>
		如: 7天，则是自发货之日起7天后，将自动收货
	</div>
</div>
<div class="layui-form-item" style="margin-bottom: 0;display:none;">
	<div class="layui-inline">
		<label class="layui-form-label">自动取消</label>
		<div class="layui-input-inline">
			<input type="text" name="autocancle" class="layui-input" {notempty name="one.autocancle"}value="{$one.autocancle}"{/notempty}>
		</div>
		<div class="layui-form-mid layui-word-aux"> 分钟</div>
	</div>
</div>
<div class="layui-form-item" style="display:none;">
	<label class="layui-form-label">&nbsp;</label>
	<div class="layui-form-mid layui-word-aux">
		自生成订单起往后计算的分钟数，0或不填表示不开启自动取消订单<br/>
		如: 0分钟，则需要客户或者后台操作员主动点击取消订单<br/>
		如: 30分钟，则是自生成订单往后30分钟，将自动取消订单
	</div>
</div>
<div class="layui-form-item">
	<label class="layui-form-label">上架/下架</label>
	<div class="layui-input-block">
		<input type="checkbox" {notempty name="one.is_show"}{eq name="one.is_show" value="y"}checked="checked"{/eq}{else /}checked="checked"{/notempty} name="is_show" lay-skin="switch" lay-filter="component-form-switchTest" lay-text="上架|下架" value="y">
	</div>
</div>